<%- include('../partials/header') %>

<div class="container my-5 text-center">
    <div class="success-page">
        <div class="success-icon mb-4">
            <i class="fas fa-check-circle"></i>
        </div>
        
        <h1 class="mb-3">Payment Successful!</h1>
        <p class="lead mb-4">Thank you for your purchase. Your order has been confirmed.</p>
        
        <div class="order-info mb-4">
            <h5>Order #<%= order._id %></h5>
            <p class="text-muted">Amount Paid: â‚¹<%= order.total %></p>
        </div>
        
        <div class="delivery-address mb-4">
            <h6 class="section-title">Delivery Address</h6>
            <div class="address-details">
                <h6 class="mb-1"><%= order.address.name %></h6>
                <p class="mb-1"><%= order.address.street %></p>
                <p class="mb-1"><%= order.address.city %>, <%= order.address.state %> <%= order.address.pinCode %></p>
                <p class="mb-0"><i class="fas fa-phone-alt me-1"></i><%= order.address.phone %></p>
            </div>
        </div>
        
        <div class="payment-info mb-4">
            <h6 class="section-title">Payment Information</h6>
            <div class="row">
                <div class="col-6">
                    <p class="detail-label">Payment Method</p>
                    <p class="detail-value"><%= order.paymentMethod === 'razorpay' ? 'Online Payment' : order.paymentMethod %></p>
                </div>
                <div class="col-6">
                    <p class="detail-label">Payment Status</p>
                    <p class="detail-value">
                        <span class="badge <%= order.paymentStatus === 'Completed' ? 'bg-success' : 'bg-warning' %>">
                            <%= order.paymentStatus %>
                        </span>
                    </p>
                </div>
            </div>
        </div>
        
        <div class="delivery-info mb-4">
            <h6 class="section-title">Delivery Information</h6>
            <div class="row">
                <div class="col-6">
                    <p class="detail-label">Order Status</p>
                    <p class="detail-value">
                        <span class="badge bg-primary"><%= order.status %></span>
                    </p>
                </div>
                <div class="col-6">
                    <p class="detail-label">Expected Delivery</p>
                    <p class="detail-value">
                        <%= new Date(order.expectedDeliveryDate).toLocaleDateString('en-IN', { 
                            day: 'numeric', 
                            month: 'short', 
                            year: 'numeric' 
                        }) %>
                    </p>
                </div>
            </div>
        </div>
        
        <div class="action-buttons">
            <a href="/orders/<%= order._id %>" class="btn btn-primary me-3">
                <i class="fas fa-file-alt me-2"></i>View Order Details
            </a>
            <a href="/shop/products" class="btn btn-outline-primary">
                <i class="fas fa-shopping-bag me-2"></i>Continue Shopping
            </a>
        </div>
    </div>
</div>

<style>
.success-page {
    max-width: 600px;
    margin: 0 auto;
    padding: 2rem;
}

.success-icon {
    font-size: 5rem;
    color: #4CAF50;
    animation: scaleIn 0.5s ease-out;
}

.order-info {
    background: #f8f9fa;
    padding: 1.5rem;
    border-radius: 8px;
}

@keyframes scaleIn {
    from { transform: scale(0); }
    to { transform: scale(1); }
}
</style>

<%- include('../partials/footer') %>